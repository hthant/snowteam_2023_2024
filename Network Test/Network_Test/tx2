#include <cstdlib>
#include <iostream>
#include <chrono>

int main() {
    // Define the SSH command to execute on the Nano.
    // Replace 'username' with your Nano's username, 'hostname' with its IP address or hostname,
    // and 'python_script.py' with the path to your Python script.
    const char* ssh_command = "ssh nano 'python ~/CSI-Camera-master/simple_camera.py -y'";

    // Measure the execution time.
    auto start_time = std::chrono::high_resolution_clock::now();

    // Execute the SSH command.
    int result = std::system(ssh_command);

    auto end_time = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::milliseconds>(end_time - start_time);

    if (result == 0) {
        // The command was executed successfully.
        std::cout << "Execution completed in " << duration.count() << " milliseconds." << std::endl;
        return 0;
    } else {
        // An error occurred.
        std::cerr << "Execution failed." << std::endl;
        return 1;
    }
}
